<!-- component -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
<div>
    <div class="relative  bannerFondo bg-black py-10" style="background-image: url('');">
        <div class=" flex justify-center items-center py-20">
            <img src="../../../../../../../assets/img/gtv.png" alt="" class="bg-center bg-contain lg:w-1/3">
        </div>
        <span aria-hidden="true"
            class="absolute inset-x-0 bottom-0 h-[80%] bg-gradient-to-t from-gray-900 opacity-90"></span>
    </div>


    <div class="-mt-64 relative">
        <div class="lg:w-1/3 w-full text-center">
            <div
                class="mx-auto right-0 mt-2 w-60 bg-gray-50 bg-opacity-50  shadow-lg backdrop-blur text-white rounded-md">
                <div *ngIf="cuentaTv.expirationTime !=null"
                    class="inset-x-0 top-0 pt-5 w-full mx-auto text-xl uppercase text-center drop-shadow-sm font-light  ">
                    <span class="inline-flex items-center gap-x-2" matTooltip="Fecha de vencimiento">
                        <mat-icon class="ml-2">event_busy</mat-icon>
                        {{cuentaTv.expirationTime |date:'d/M/YYYY, h:mm a' }}
                    </span>
                </div>
                <div id="temp">
                    <p class="text-xs text-gray-50">Contrato:</p>
                    <h4 class="text-4xl">{{contrato.contract}}</h4>
                </div>
                <h1 class="font-light text-2xl py-2">
                    {{contrato.plan_type.name}}
                </h1>
            </div>

        </div>

        <div
            class="grid grid-cols-1 gap-4 {{contrato.contract_detail_product.length > 0 ? 'lg:grid-cols-3': 'lg:grid-cols-2' }}  ">

            <div class="p-2 lg:p-8 justify-center text-center cursor-pointer">
                <div
                    class="py-4 max-w-lg  mx-auto rounded overflow-hidden shadow-lg hover:bg-white transition duration-500  bg-white">
                    <div class="space-y-4">
                        <!-- <a href="https://g-network.tv/sign-in" target="_blank" matTooltip="Ir a G-TV" class="flex justify-center">
                            <img src="../../../../../../../assets/img/gtvnegro.png"
                                class="flex mx-20 w-[200px] items-center" alt="">
                        </a> -->
                        <div class="px-6 py-4">
                            <div class="space-y-5">
                                <div class="font-bold text-xl mb-2">DATOS DE ACCESO G-TV</div>
                                <div class="flex flex-col gap-x-4 px-10  gap-y-4 justify-evenly">
                                    <div class="flex justify-between text-start p-2 ">
                                        <form [formGroup]="cuenta" class="relative w-full">
                                            <div>
                                                <label for="search"
                                                    class="block text-sm font-medium leading-6 text-gray-900">Usuario</label>
                                                <div class="relative mt-2 flex items-center">
                                                    <input type="text" formControlName="username" readonly
                                                        class="block w-full rounded-md  py-1.5 px-1.5 pr-14 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 bg-gray-300 sm:text-sm sm:leading-6">
                                                    <div class="absolute inset-y-0 right-0 flex py-1.5 pr-1.5">
                                                        <mat-icon class="mat-18 mr-2">account_circle</mat-icon>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="w-full">
                                                <label for="search"
                                                    class="block text-sm font-medium leading-6 text-gray-900">Contraseña</label>
                                                <div class="relative mt-1 flex items-center">
                                                    <input matInput type="text" formControlName="password" #password
                                                        pattern="[A-Za-z0-9]*" [readonly]="is_edit" maxlength="10"
                                                        required
                                                        class="block w-full rounded-md border-0 py-1.5 px-1.5 pr-14 text-gray-900 shadow-sm  ring-1 ring-gray-300  sm:text-sm sm:leading-6">
                                                    <div class="absolute inset-y-0 right-0 flex py-1.5 pr-1.5">
                                                        <mat-icon class="mat-18 mr-2">password</mat-icon>
                                                    </div>
                                                </div> 
                                                <div class="flex justify-between">

                                                    <mat-hint align="start" class="text-xs"><strong>Ingresar solo
                                                            cáracteres alfanuméricos</strong> </mat-hint>
                                                    <mat-hint align="end" class="text-xs">{{password.value.length}} /
                                                        10</mat-hint>
                                                </div>
                                                <mat-error *ngIf="cuenta.controls['password'].hasError('pattern')"
                                                    class="text-xs ">
                                                    No permite caracteres especiales
                                                </mat-error>
                                                <mat-error *ngIf="cuenta.controls['password'].hasError('required')"
                                                    class="text-xs">
                                                    La contraseña es <strong>obligatorio</strong>
                                                </mat-error>
                                            </div>
                                            <div>
                                                <label for="search"
                                                    class="block text-sm font-medium leading-6 text-gray-900">Pin</label>
                                                <div class="relative mt-1 flex items-center">
                                                    <input type="text" formControlName="pincode" [readonly]="is_edit"
                                                        #pinCode maxlength="4" pattern="[0-9]*" required
                                                        class="block w-full rounded-md border-0 py-1.5 px-1.5 pr-14 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6">
                                                    <div class="absolute inset-y-0 right-0 flex py-1.5 pr-1.5">
                                                        <mat-icon class="mat-18 mr-2">vpn_key</mat-icon>
                                                    </div>
                                                </div>
                                                <div class="flex justify-between">

                                                    <mat-error *ngIf="cuenta.controls['pincode'].hasError('pattern')"
                                                        class="text-xs ">
                                                        Solo caracteres numericos
                                                    </mat-error>
                                                    <mat-hint align="end" class="text-xs">{{pinCode.value.length}} /
                                                        4</mat-hint>
                                                </div>
                                            </div>
                                            <div class="flex my-4">
                                                <ng-container *ngIf="modificar else Guardar">
                                                    <button mat-raised-button color="warn" type="submit"
                                                        (click)="isEditar()"
                                                        class="w-full inline-flex items-center justify-center text-white shadow-sm  ">
                                                        <mat-icon class="mx-2">edit</mat-icon> Modificar
                                                    </button>
                                                </ng-container>
                                                <ng-template #Guardar>
                                                    <button mat-raised-button color="primary" type="submit"
                                                        [disabled]="cuenta.invalid" (click)="updateAccount()"
                                                        class="w-full inline-flex items-center justify-center rounded-md border font-mono font-semibold border-transparent text-lg bg-gray-800 px-4 py-3 text-white shadow-sm hover:bg-red-600 ">
                                                        <mat-icon class="mx-2">check_small</mat-icon> Guardar
                                                    </button>
                                                </ng-template>
                                            </div>
                                            <div class="flex justify-center items-center space-x-4">
                                                <a href="http://play.google.com/store/apps/details?id=com.gnettv.android&hl=en"
                                                    target="_blank">
                                                    <img src="https://www.svgrepo.com/show/303139/google-play-badge-logo.svg"
                                                        width="130" height="110" alt="" />
                                                </a>
                                                <a href="https://apps.apple.com/uz/app/g-tv/id6450960460"
                                                    target="_blank" rel="noopener noreferrer">
                                                    <img src="https://www.svgrepo.com/show/303128/download-on-the-app-store-apple-logo.svg"
                                                        width="130" height="110" alt="" />
                                                </a>
                                                <a href="https://channelstore.roku.com/es-mx/details/2b6f7a91903cd81be416208e0802faf6/g-tv"
                                                    target="_blank" rel="noopener noreferrer">
                                                    <img src="../../../../../../../assets/img/downloadRoku.png"
                                                        width="130" height="110" alt="" />
                                                </a>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="p-2 sm:p-10 text-center cursor-pointer text-white">
                <div
                    class="py-16  max-w-lg mx-auto  rounded overflow-hidden shadow-lg bg-gray-500 hover:bg-gray-800 transition duration-500">
                    <div class="space-y-4">
                        <div class="flex flex-col items-center justify-center">
                            <i class="fa fa-tv p2  items-center" style="font-size:50px;"></i>
                            <span class="text-sm font-light my-2">{{cuentaTv.deviceCount}} PANTALLAS</span>
                        </div>

                        <div class="px-6 py-2">
                            <div class="space-y-4">
                                <div class="flex justify-around">
                                    <div class="gap-y-4 ">
                                        <div class="flex justify-center items-center rounded-full w-20 h-20 bg-white shadow-lg shadow-gray-500/50  ease-in-out delay-100  hover:-translate-y-1 hover:scale-110 duration-300"
                                            (click)="verPantallaDisponibles()">
                                            <i class="fa fa-tv p2 text-red-700 items-center"
                                                style="font-size:25px;"></i>
                                        </div>
                                        <span class="text-sm font-light py-4">{{cuentaTv.activationCodes.length
                                            }} DISPONIBLES</span>
                                    </div>
                                    <div>
                                        <div class="flex justify-center items-center rounded-full w-20 h-20 bg-white shadow-lg shadow-gray-500/50  ease-in-out delay-100  hover:-translate-y-1 hover:scale-110 duration-300"
                                            (click)="verPantallaUtilizadas()">
                                            <i class="fa fa-tv p2 text-green-700 items-center"
                                                style="font-size:25px;"></i>
                                        </div>
                                        <span class="gap-y-4 text-sm font-light my-4">{{cuentaTv.devices.length}}
                                            OCUPADAS</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="p-2 sm:p-10 text-center cursor-pointer translate-x-2" *ngIf="contrato.contract_detail_product.length > 0
                ">
                <div
                    class="py-16 max-w-sm rounded overflow-hidden shadow-lg hover:bg-white transition duration-500 bg-white ">
                    <div class="space-y-4">
                        <div class="flex flex-col items-center justify-center">
                            <i class="fa fa-film" style="font-size:50px;"></i>
                            <span class="text-sm font-light my-2">TV BOX</span>
                        </div>

                        <div class="px-6 py-2">
                            <div class="space-y-4">
                                <div class="flex justify-around">
                                    <div class="flex justify-center items-center rounded-full w-20 h-20 bg-gray-500 shadow-lg shadow-gray-500/50  ease-in-out delay-100  hover:-translate-y-1 hover:scale-110 duration-300"
                                        (click)="verTvBox(tvbox)"
                                        *ngFor="let tvbox of contrato.contract_detail_product">
                                        <i class="fa fa-film p2 text-gray-50 items-center" style="font-size:25px;"></i>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <!-- <div class="px-6 py-2">
                            <div class="space-y-4">
                                <div class="font-bold text-xl mb-2">TV BOX</div>
                                <p class="text-lg font-mono">
                                    <dd class="flex justify-between "
                                        >
                                        <span>{{tvbox.product_name}}</span><span>serial: {{tvbox.serial}}</span>
                                    </dd>


                                </p>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>